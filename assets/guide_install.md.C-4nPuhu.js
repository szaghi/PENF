import{_ as i,o as a,c as e,a2 as n}from"./chunks/framework.B9wrLaVf.js";const c=JSON.parse('{"title":"Installation","description":"","frontmatter":{"title":"Installation"},"headers":[],"relativePath":"guide/install.md","filePath":"guide/install.md"}'),t={name:"guide/install.md"};function l(p,s,h,d,k,o){return a(),e("div",null,[...s[0]||(s[0]=[n(`<h1 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h1><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">​</a></h2><p>A modern Fortran compiler with Fortran 2003+ support.</p><p>Tested with GNU (gfortran), Intel (ifort/ifx), IBM XL, and PGI compilers.</p><h2 id="option-1-—-fobis-py" tabindex="-1">Option 1 — FoBiS.py <a class="header-anchor" href="#option-1-—-fobis-py" aria-label="Permalink to &quot;Option 1 — FoBiS.py&quot;">​</a></h2><p><a href="https://github.com/szaghi/FoBiS" target="_blank" rel="noreferrer">FoBiS.py</a> is a Fortran build system that reads a <code>fobos</code> configuration file and handles inter-module dependencies automatically.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FoBiS.py</span></span></code></pre></div><h3 id="standalone-installation" tabindex="-1">Standalone installation <a class="header-anchor" href="#standalone-installation" aria-label="Permalink to &quot;Standalone installation&quot;">​</a></h3><p>Use <code>FoBiS.py install</code> to clone PENF from GitHub, build it, and install it to a prefix in one command — no manual <code>git clone</code> needed:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Build and install to ~/.local (default prefix)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> szaghi/PENF</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static-gnu</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Install to a custom prefix</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> szaghi/PENF</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static-gnu</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/prefix</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Clone only, skip building</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> szaghi/PENF</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-build</span></span></code></pre></div><p>Replace <code>static-gnu</code> with <code>shared-gnu</code> for a shared library, or <code>gnu</code> with <code>intel</code> for the Intel compiler.</p><h3 id="as-a-project-dependency" tabindex="-1">As a project dependency <a class="header-anchor" href="#as-a-project-dependency" aria-label="Permalink to &quot;As a project dependency&quot;">​</a></h3><p>Use <code>FoBiS.py fetch</code> to clone and build PENF alongside your own project. It can be invoked directly from the command line or configured as a rule inside your <code>fobos</code> file.</p><p>First, declare PENF in the <code>[dependencies]</code> section of your project&#39;s <code>fobos</code>:</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[dependencies]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">deps_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = src/third_party        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># where dependencies are cloned</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PENF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     = https://github.com/szaghi/PENF</span></span></code></pre></div><p><strong>Via the CLI</strong> — run <code>fetch</code> directly whenever you need to (re-)install dependencies:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           # fetch and build all declared dependencies</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --update</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # re-fetch (git pull) and rebuild</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-build</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # clone only, skip build</span></span></code></pre></div><p><strong>Via a fobos rule</strong> — embed <code>fetch</code> as a named rule so the whole team uses the same command and flags without remembering CLI options:</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[rule-deps]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">help</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = Fetch and build all project dependencies</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">rule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = FoBiS.py fetch</span></span></code></pre></div><p>Then anyone working on the project runs:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deps</span></span></code></pre></div><h3 id="building-the-library-from-source" tabindex="-1">Building the library from source <a class="header-anchor" href="#building-the-library-from-source" aria-label="Permalink to &quot;Building the library from source&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Static library</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static-gnu</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Shared library</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shared-gnu</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Debug variants</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static-gnu-debug</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shared-gnu-debug</span></span></code></pre></div><h3 id="building-and-running-the-tests" tabindex="-1">Building and running the tests <a class="header-anchor" href="#building-and-running-the-tests" aria-label="Permalink to &quot;Building and running the tests&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tests-gnu</span></span></code></pre></div><h3 id="coverage-analysis" tabindex="-1">Coverage analysis <a class="header-anchor" href="#coverage-analysis" aria-label="Permalink to &quot;Coverage analysis&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> makecoverage</span></span></code></pre></div><h3 id="generating-api-documentation" tabindex="-1">Generating API documentation <a class="header-anchor" href="#generating-api-documentation" aria-label="Permalink to &quot;Generating API documentation&quot;">​</a></h3><p>Requires <a href="https://github.com/cmacmackin/ford" target="_blank" rel="noreferrer">Ford</a>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ford</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> makedoc</span></span></code></pre></div><h2 id="option-2-—-fpm" tabindex="-1">Option 2 — fpm <a class="header-anchor" href="#option-2-—-fpm" aria-label="Permalink to &quot;Option 2 — fpm&quot;">​</a></h2><p>With <a href="https://fpm.fortran-lang.org" target="_blank" rel="noreferrer">Fortran Package Manager</a> no manual setup is needed.</p><p>Add to your <code>fpm.toml</code>:</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PENF = { git = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://github.com/szaghi/PENF&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><p>Then build:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><h2 id="option-3-—-cmake" tabindex="-1">Option 3 — CMake <a class="header-anchor" href="#option-3-—-cmake" aria-label="Permalink to &quot;Option 3 — CMake&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># With tests</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -DBUILD_TESTING=ON</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ctest</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --test-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><h2 id="option-4-—-makefile" tabindex="-1">Option 4 — Makefile <a class="header-anchor" href="#option-4-—-makefile" aria-label="Permalink to &quot;Option 4 — Makefile&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              # static library</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> TESTS=yes</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # build and run tests</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clean</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # remove objects and modules</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cleanall</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # remove everything</span></span></code></pre></div><h2 id="quick-start" tabindex="-1">Quick Start <a class="header-anchor" href="#quick-start" aria-label="Permalink to &quot;Quick Start&quot;">​</a></h2><p>Always call <code>penf_init</code> at the start of your program to initialise internal variables (byte-size counters, endianness):</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> penf</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> penf_init</span></span></code></pre></div><blockquote><p><strong>Tip:</strong> <code>penf_init</code> is idempotent — safe to call multiple times. Call <code>penf_print(unit)</code> to dump a complete summary of the PENF environment to any I/O unit.</p></blockquote>`,44)])])}const g=i(t,[["render",l]]);export{c as __pageData,g as default};
